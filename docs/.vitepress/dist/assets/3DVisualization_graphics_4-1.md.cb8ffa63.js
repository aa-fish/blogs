import{_ as o,o as s,c as a,Q as t}from"./chunks/framework.5b0c684c.js";const i="/blogs/assets/3DVisualization_graphics_4_1.b889eb0b.png",p="/blogs/assets/3DVisualization_graphics_4_2.a9621532.png",e="/blogs/assets/3DVisualization_graphics_4_3.62b956c4.png",n="/blogs/assets/3DVisualization_graphics_4_4.9078de6a.png",l="/blogs/assets/3DVisualization_graphics_4_5.fc5c313f.png",c="/blogs/assets/3DVisualization_graphics_4_6.fa331935.png",r="/blogs/assets/3DVisualization_graphics_4_7.4ad5fb5b.png",_="/blogs/assets/3DVisualization_graphics_4_8.3db8bc60.png",g="/blogs/assets/3DVisualization_graphics_4_9.8541b8c9.png",h="/blogs/assets/3DVisualization_graphics_4_10.95a02391.png",d="/blogs/assets/3DVisualization_graphics_4_11.95ee518f.png",u="/blogs/assets/3DVisualization_graphics_4_12.a71ed4e4.png",b="/blogs/assets/3DVisualization_graphics_4_13.d62a150d.png",m="/blogs/assets/3DVisualization_graphics_4_14.7dce9809.png",q="/blogs/assets/3DVisualization_graphics_4_15.130c30a6.png",k="/blogs/assets/3DVisualization_graphics_4_16.2c4cb2c8.png",f="/blogs/assets/3DVisualization_graphics_4_17.e8ccefac.png",V="/blogs/assets/3DVisualization_graphics_4_18.75ff6bcb.png",D="/blogs/assets/3DVisualization_graphics_4_19.499d6c10.png",z="/blogs/assets/3DVisualization_graphics_4_20.9694669b.png",P="/blogs/assets/3DVisualization_graphics_4_21.c1b2d58b.png",G=JSON.parse('{"title":"着色","description":"","frontmatter":{},"headers":[],"relativePath":"3DVisualization/graphics/4-1.md","filePath":"3DVisualization/graphics/4-1.md","lastUpdated":1729031503000}'),x={name:"3DVisualization/graphics/4-1.md"},B=t('<h1 id="着色" tabindex="-1">着色 <a class="header-anchor" href="#着色" aria-label="Permalink to &quot;着色&quot;">​</a></h1><p>在图形学中什么是着色？</p><p><strong>对不同的物体应用不同的材质的这么一个过程</strong>。</p><h2 id="blinn-phong反射模型" tabindex="-1">Blinn-Phong反射模型 <a class="header-anchor" href="#blinn-phong反射模型" aria-label="Permalink to &quot;Blinn-Phong反射模型&quot;">​</a></h2><ul><li>它是一个经验模型，并不完全符合真实世界中的光照现象，但由于实现起来简单方便，并且计算速度和得到的效果都还不错，因此在早期被广泛的使用。</li></ul><p><img src="'+i+'" alt=""></p><blockquote><p>高光</p><p>漫反射：如墙体</p><p>环境照明</p></blockquote><h2 id="如何定义材质" tabindex="-1">如何定义材质 <a class="header-anchor" href="#如何定义材质" aria-label="Permalink to &quot;如何定义材质&quot;">​</a></h2><p><img src="'+p+'" alt=""> 需要先定义：</p><blockquote><p>v 观测方向（单位向量）</p><p>n 法线（单位向量）</p><p>l 光照方向（单位向量）</p><p>物体表面参数（颜色、光泽度...）</p></blockquote><p>着色只考虑物体的局部性。（不考虑物体阴影 shading ≠ shadow） <img src="'+e+'" alt=""></p><h2 id="漫反射" tabindex="-1">漫反射 <a class="header-anchor" href="#漫反射" aria-label="Permalink to &quot;漫反射&quot;">​</a></h2><p>当光线到达物体表面的某一个点时，会被均匀的反射到各个方向上去。 <img src="'+n+'" alt=""></p><p><code>单位面积</code>物体漫反射接受的能量收什么影响？ <img src="'+l+'" alt=""></p><blockquote><p>它遵循<code>兰伯特余弦定律</code>。</p></blockquote><p><strong>兰伯特余弦定律</strong><code>光照方向</code>与<code>法线方向</code>它们之间的<code>夹角的余弦</code>成正比。</p><p><strong>能量的衰减</strong></p><p><img src="'+c+'" alt=""></p><p><strong>漫反射的计算</strong><img src="'+r+'" alt=""></p><blockquote><p>受物体表面颜色对能量的吸收情况影响</p><p>受能量传播距离衰减情况影响</p><p>受<code>光照方向</code>与<code>法线方向</code>它们之间的夹角大小影响。</p></blockquote><p><img src="'+_+'" alt=""></p><h2 id="高光" tabindex="-1">高光 <a class="header-anchor" href="#高光" aria-label="Permalink to &quot;高光&quot;">​</a></h2><ul><li>物体反射方向接近于镜面的反射的方向。</li><li><code>观察的方向</code>接近于<code>镜面的反射方向</code>时可以看到高光。 <img src="'+g+'" alt=""></li></ul><p>有一个更聪明的做法 <code>Specular Term (Blinn-Phong)</code></p><blockquote><p>半程向量 比 反射向量 更好计算。</p></blockquote><p><strong>镜面反射项 Specular Term (Blinn-Phong)</strong><img src="'+h+'" alt=""> 半程向量：光线方向与观察方向夹角一半方向上的一个单位向量（v 于 l 中间的单位向量）。</p><blockquote><p><code>当观察方向</code> 与 <code>镜面反射方向</code>接近时（v与l），<code>法线方向</code> 与 <code>半程方向</code>接近（n与h）。</p><p>受镜面反射系数影响。</p><p>受能量传播距离衰减情况影响。</p><p>p 余弦指数。（在夹角余弦添加一个系数（100-200），用于控制高光点的大小） <img src="'+d+'" alt=""></p></blockquote><p>示例 <img src="'+u+'" alt=""></p><h2 id="环境光" tabindex="-1">环境光 <a class="header-anchor" href="#环境光" aria-label="Permalink to &quot;环境光&quot;">​</a></h2><ul><li>假设物体接受的来自四面八方的环境光都时相同的。</li><li>假设它是一个常数。</li><li>实际环境光是非常复杂的。 <img src="'+b+'" alt=""></li></ul><blockquote><p>Ka 环境系数。</p><p>Ia 环境光的强度。</p></blockquote><h2 id="blinn-phong反射模型的组成" tabindex="-1">Blinn-Phong反射模型的组成 <a class="header-anchor" href="#blinn-phong反射模型的组成" aria-label="Permalink to &quot;Blinn-Phong反射模型的组成&quot;">​</a></h2><p><strong>Blinn-Phong反射模型</strong> = <strong>环境光+漫反射+高光</strong> （简化模型）</p><p><img src="'+m+'" alt=""></p><h2 id="着色频率" tabindex="-1">着色频率 <a class="header-anchor" href="#着色频率" aria-label="Permalink to &quot;着色频率&quot;">​</a></h2><p><img src="'+q+'" alt=""></p><p><strong>基于三角面着色</strong>（flat shading） <img src="'+k+'" alt=""></p><blockquote><p>计算三角面的法线，然后对三角面进行着色。</p></blockquote><p><strong>基于顶点着色</strong>（Gouraud shading） <img src="'+f+'" alt=""></p><blockquote><p>计算三角形每个顶点的法线，对每个顶点做一次着色。</p><p>每个顶个对应的三角形，三角形内部的颜色通过插值的方式计算。</p></blockquote><p><strong>基于像素点着色</strong>（Phong shading） <img src="'+V+'" alt=""></p><blockquote><p>计算三角形每个顶点的法线，在三角形内部每个像素插值处法线方向。</p><p>再对每个像素进行一次着色。</p></blockquote><p><strong>着色方式的选择与模型本身的面、顶点、像素有关</strong>。 <img src="'+D+'" alt=""> 这里每一行的模型一样，每一列的着色方式一样。</p><blockquote><p>当模型本身的频率足够高时，就看选择（flat shading）。</p><p>根据模型情况也可选择（Gouraud shading）。</p><p>（Phong shading）着色往往是开销最大，但最精细。</p></blockquote><h2 id="顶点法线" tabindex="-1">顶点法线 <a class="header-anchor" href="#顶点法线" aria-label="Permalink to &quot;顶点法线&quot;">​</a></h2><p><img src="'+z+'" alt=""></p><blockquote><p>顶点相邻面的法线求平均，得到顶点法线。</p><p>由于顶点对应的面大小不一，对相邻面面积大小加权到法线，再求平均效果更好。</p></blockquote><h2 id="像素法线" tabindex="-1">像素法线 <a class="header-anchor" href="#像素法线" aria-label="Permalink to &quot;像素法线&quot;">​</a></h2><p><img src="'+P+'" alt=""></p><blockquote><p>根据顶点法线，插值出每个像素的法线（重心坐标）。</p></blockquote>',50),T=[B];function S(v,$,A,I,N,C){return s(),a("div",null,T)}const w=o(x,[["render",S]]);export{G as __pageData,w as default};
