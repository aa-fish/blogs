import{_ as n,C as l,o,c as p,H as e,a as t,Q as s}from"./chunks/framework.5b0c684c.js";const D=JSON.parse('{"title":"数组拓展","description":"","frontmatter":{},"headers":[],"relativePath":"web-core/es6/1-6.md","filePath":"web-core/es6/1-6.md","lastUpdated":1729031503000}'),r={name:"web-core/es6/1-6.md"},c=s(`<h1 id="数组拓展" tabindex="-1">数组拓展 <a class="header-anchor" href="#数组拓展" aria-label="Permalink to &quot;数组拓展&quot;">​</a></h1><h2 id="扩展运算符" tabindex="-1">扩展运算符 <a class="header-anchor" href="#扩展运算符" aria-label="Permalink to &quot;扩展运算符&quot;">​</a></h2><p>任何定义了遍历器（Iterator）接口的对象（参阅 Iterator 一章），都可以用扩展运算符转为真正的数组。</p><h2 id="数组的空位" tabindex="-1">数组的空位 <a class="header-anchor" href="#数组的空位" aria-label="Permalink to &quot;数组的空位&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Array</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// [, , ,]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// [, , ,]</span></span></code></pre></div><p>ES5 对空位的处理，已经很不一致了，大多数情况下会忽略空位。</p><ul><li><code>forEach()</code>, <code>filter()</code>, <code>reduce()</code>, <code>every()</code> 和<code>some()</code>都会跳过空位。 -<code> map()</code>会跳过空位，但会保留这个值</li><li><code>join()</code>和<code>toString()</code>会将空位视为 undefined，而 undefined 和 null 会被处理成空字符串。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">,</span><span style="color:#FFAB70;">i</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(i)); </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">,,</span><span style="color:#9ECBFF;">&#39;b&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">filter</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// [&#39;a&#39;,&#39;b&#39;]</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">every</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x</span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">reduce</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">,</span><span style="color:#FFAB70;">y</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">y) </span><span style="color:#6A737D;">// 3</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">some</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// false</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// [,1]</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;#a##&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// &quot;,a,,&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">,</span><span style="color:#E36209;">i</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(i)); </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">,,</span><span style="color:#032F62;">&#39;b&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">filter</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// [&#39;a&#39;,&#39;b&#39;]</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">every</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x</span><span style="color:#D73A49;">===</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">reduce</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">,</span><span style="color:#E36209;">y</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">y) </span><span style="color:#6A737D;">// 3</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">some</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// false</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// [,1]</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;#a##&quot;</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// &quot;,a,,&quot;</span></span></code></pre></div>`,8),y=s(`<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Array.</span><span style="color:#B392F0;">from</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">,,</span><span style="color:#9ECBFF;">&#39;b&#39;</span><span style="color:#E1E4E8;">]) </span><span style="color:#6A737D;">//[ &quot;a&quot;, undefined, &quot;b&quot; ]</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">[</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">,,</span><span style="color:#9ECBFF;">&#39;b&#39;</span><span style="color:#E1E4E8;">]] </span><span style="color:#6A737D;">// // [ &quot;a&quot;, undefined, &quot;b&quot; ]</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;b&#39;</span><span style="color:#E1E4E8;">,,].</span><span style="color:#B392F0;">copyWithin</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// [,&quot;a&quot;,,&quot;a&quot;]</span></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Array</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">fill</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">entries</span><span style="color:#E1E4E8;">()] </span><span style="color:#6A737D;">// [[0,undefined], [1,&quot;a&quot;]]</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">keys</span><span style="color:#E1E4E8;">()] </span><span style="color:#6A737D;">// [0,1]</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">values</span><span style="color:#E1E4E8;">()] </span><span style="color:#6A737D;">// [undefined,&quot;a&quot;]</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">find</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">[,</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">findIndex</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// for of</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> arr </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [, ,];</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> arr) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">// 1 , 1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Array.</span><span style="color:#6F42C1;">from</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">,,</span><span style="color:#032F62;">&#39;b&#39;</span><span style="color:#24292E;">]) </span><span style="color:#6A737D;">//[ &quot;a&quot;, undefined, &quot;b&quot; ]</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">[</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">,,</span><span style="color:#032F62;">&#39;b&#39;</span><span style="color:#24292E;">]] </span><span style="color:#6A737D;">// // [ &quot;a&quot;, undefined, &quot;b&quot; ]</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;b&#39;</span><span style="color:#24292E;">,,].</span><span style="color:#6F42C1;">copyWithin</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// [,&quot;a&quot;,,&quot;a&quot;]</span></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">fill</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">entries</span><span style="color:#24292E;">()] </span><span style="color:#6A737D;">// [[0,undefined], [1,&quot;a&quot;]]</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">keys</span><span style="color:#24292E;">()] </span><span style="color:#6A737D;">// [0,1]</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">values</span><span style="color:#24292E;">()] </span><span style="color:#6A737D;">// [undefined,&quot;a&quot;]</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// undefined</span></span>
<span class="line"><span style="color:#24292E;">[,</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">findIndex</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// for of</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [, ,];</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> arr) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// 1 , 1</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>由于空位的处理规则非常不统一，所以建议避免出现空位。</p></div><h2 id="静态方法" tabindex="-1">静态方法 <a class="header-anchor" href="#静态方法" aria-label="Permalink to &quot;静态方法&quot;">​</a></h2><ul><li>Array.from()</li><li>Array.of()</li></ul><h2 id="实例方法" tabindex="-1">实例方法 <a class="header-anchor" href="#实例方法" aria-label="Permalink to &quot;实例方法&quot;">​</a></h2><ul><li>Array.prototype.copyWithin()</li><li>Array.prototype.find()</li><li>Array.prototype.findIndex()</li><li>Array.prototype.fill()</li><li>Array.prototype.keys()</li><li>Array.prototype.values()</li><li>Array.prototype.entries()</li><li>Array.prototype.includes()</li><li>Array.prototype.flat()</li><li>Array.prototype.flatMap()</li></ul><h2 id="排序稳定性" tabindex="-1">排序稳定性 <a class="header-anchor" href="#排序稳定性" aria-label="Permalink to &quot;排序稳定性&quot;">​</a></h2><p>ES2019 明确规定，Array.prototype.sort()的默认排序算法必须稳定。这个规定已经做到了，现在 JavaScript 各个主要实现的默认排序算法都是稳定的。</p>`,8);function E(i,F,d,u,A,C){const a=l("lines");return o(),p("div",null,[c,e(a,{text:"ES6 则是明确将空位转为 undefined"}),t("。"),y])}const q=n(r,[["render",E]]);export{D as __pageData,q as default};
